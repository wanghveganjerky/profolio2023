// fetch all h2 elements within li tags
const h2Elements = document.querySelectorAll('li h2');
// Fetch the preview div and image
const hoverPreviewDIV = document.getElementById('h2-hover-image-preview-div');
const hoverPreviewIMG = document.getElementById('h2-hover-image-preview-img');

// function to show hover preview
function showHoverPreview(event) {
  let targetElement = event.target;

  if (targetElement.tagName.toLowerCase() !== 'h2') {
   return;
  }

  // get the image source from the data attribute
  const imgFileName = targetElement.getAttribute('data-img-src');
  // Set the image source
  hoverPreviewIMG.src = `images/${imgFileName}`;
  hoverPreviewDIV.style.left = (event.pageX + 10) + 'px';
  hoverPreviewDIV.style.top = (event.pageY + 10) + 'px';
  // show the preview div
  hoverPreviewDIV.style.display = 'block';
}

// function to hide preview
function hideHoverPreview() {
  hoverPreviewDIV.style.display = 'none';
}

// attach event listeners
h2Elements.forEach(h2 => {
  h2.addEventListener('mouseover', showHoverPreview);  // updated to new function name
  h2.addEventListener('mousemove', showHoverPreview);  // updated to new function name
  h2.addEventListener('mouseout', hideHoverPreview);
});


function setTime() {
  // set the updatedAt time to September 23, 2023, at like 5 pm
  const updatedAt = new Date(2023, 8, 23, 17, 0, 0); // months are zero-based in JavaScript
  const today = new Date();
  // calculate the time difference between the current time and the updatedAt time
  const timeSince = today - updatedAt;
  const minuteMs = 60000;
  const hourMs = 3600000;
  const dayMs = 86400000;
  const monthMs = 2628000000; //  approximation for a month in milliseconds
  
  let timePhrase;

  if (timeSince < minuteMs) {
    timePhrase = "few moments ago";
  } else if (timeSince < hourMs) {
    timePhrase = "few minutes ago";
  } else if (timeSince < dayMs) {
    timePhrase = "few hours ago";
  } else if (timeSince < monthMs) {
    timePhrase = "few days ago";
  } else {
    timePhrase = "few months ago";
  }

  document.querySelector(".js-last-updated").innerText = "Updated @ " + timePhrase;
}

document.addEventListener('DOMContentLoaded', setTime);


document.addEventListener('DOMContentLoaded', function() {
  const linkOfTheWeek = document.getElementById('linkOfTheWeek');
  
  if (linkOfTheWeek) {
      linkOfTheWeek.href = 'https://www.newyorker.com/culture/photo-booth/life-along-israels-separation-wall'; 
  }
});



// <!-- ................................................................::::::::::::::::::::::::::::::::::::
// ......................................................................................::::::::::::::
// ....................................................................:-===-::.............:::::::::::
// ...............................................................:=*%%@%@@@@%=:...............::::::::
// ............................................................:+%%@@@@@%@@@@@%:...................::::
// .....................-*%%%#*+-::.........................:*#%@@@@@@@@@@@@@@%=....................:::
// ....................*@@@%@@@@@@%%%*-:..................-*%%@@@@@@@@@@@@@@@@@=.......................
// ...................=%%%@@%@%@@@@@%@@%#+:..:--+*####**#%%%@@@@@@@@@@@@@@@@@@@#:......................
// ...................+%@@@@@@@@@@@@@@@@@@@%%%%%%@@@%%%%@@@@@@@@@@@@@@@@@@@@@@@#:......................
// ..................:*%@@@@@@@@@@@@@@@@@@@%@@@@@@@@@%%@%@@@@@@@@@@@@@@@@@@@@@@#:......................
// ...................+%@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@%:......................
// ...................+%@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@%@@@@@@@@@@%-......................
// ...................=%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@%:......................
// ....................#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#:......................
// ....................=%%@@@@@@@@@@@@@@@%%%%%@@@@@@@@@@@@@@@@@%+=-==*%@@@@@@@@#:......................
// ....................:*%%%@@@@@@@%%*::====::-#%@@@@@@@@@@@@*---::::::-+%@@@@@#:......................
// ......................*%@@@@@@@@+--:::::..:=::+%%@%@@@@%*:--:-::.:::::=%@@@%*:......................
// ......................:#%@@@@@@#::--:..:-=:.-:.-%@@@@@@=.--:-.:+=-=+--:-%@@@%-......................
// .......................*@@@%%%%-=:.--:--:.-=.-::*@@@@@%=.-.-::=.=++:::-:-*@@@#......................
// .......................+%%%%%@+:.=::--:::=.:=.=:-%%@@%%-.-.=.=-:+:::::::=-%@@%-.....................
// .......................+%%%@@#::-:::...-.::.-::::*@@@@#:.-:-::+::=---:=:-:+@@%=.....................
// .......................=%%@%%#::-:::+-.=-.-.-::::*%%%%%#::=:=:.=-::::=:=:-=@@%#:....................
// .......................:#%%%%#::::=::==::=::+.-:-%@@@@@@*:::.=:..:::::-::-#@###:....................
// ........................+#%@@%=-:-.:=-==-::+.:-:+@@@@@@@%-::-::--=+===:==#@@=-*-....................
// ........................-#+#%%%--:::::::-=:.:=:-%@@@@%@%%@%=::=--::::=-=%@%---=.....................
// ........................:+:-%@@%=:=:......:+-:=%@@@@@@@@@@@@@#+-:::::+%@@@#:-#-.....................
// .........................-::=%%%@%*--:-=-:::=%@@@@@@@@@@@@@@@@@@@@@@@@@@%=::-+......................
// ..........................+%++%@@@@%%%%*#%@@@@%@@%@@@@@@@@@@@@@@@@@@@@@%-=#%#:......................
// ..........................:#*::=#%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#=-:-##:.......................
// ...........................:#*%%*::-#@@@@@@@@@@@@@@@@@@@@@@@@@@%--:::=%*#%*:........................
// ............................:*%%#::-+:=#%%%@@%@%@@@@@%*+====-:::+@%+:-%@%=..........................
// ..............................=#%%##%*-:::=-::--::.::+::::#@%+-+%@@%%%%+:...........................
// ................................-*%%@@%@%@@#::=%#-::+@@%+%@@@@@@@@@%#=:.............................
// ...................................-=*%%%@@@%%%@@@@%@@@@@@@@@@@@%+-:::..............................
// .......................................-%@@@@@@@@@@@@@@@@@@@@@@@*::::::::::.........................
// ......................................-%@@@@@@@@@@@@@@@@@@@@@@@@@*-:::::::::::::::::................
// .....................................:*%@@@@@@@@@@*=*%@@@@@@@@@@@@*:::::::::::::::::::::::::::::::::
// :::::::::::::::::::::::::::::::::::::=%@@@@@@@@@@%*@%*@@@@@@@@@@@@%=---------------------:::::::::::
// ....................:::::::::::::::::+%@@@@@@@%-*#+%-#@@@@@@@@@@@@%=::::::::::::::::::::::::::::::::
// ....................................:*%%%@@@@@@*##+**++*@@@@@@@@@@%=::::::::::::::::::::::::::::::::
// ....................................:#@%%@@@@@@@@%-*@@@@%@@@@@%@%@%*-:::::::::::::::::::::::::::::::
// ...................:-=++++===========*@@@@@%@%@@@==#@@@%@@@@@%@@@@@*-:::::::::::::::::::::::::::::::
// ..................-#%%@@@@@@@%%%%@@@@@@@@@@@@%@@%-=%@@@@@@%@%@@@@@@%%%%#+-::::::::::::::::::::::::::
// .................:+%%@@@@@@@%%%%@@@@@@@%@@@@@%%%%+*@@@%@@%@@@@@@@@@@@@@@%#=:::::::::::::::::::::::::
// ..................:=**+=-::-%%%%%@@@@@@@%@@@@%@@@@@@@%@@@@@@@@@@@@@@@@@@@@#-::::::::::::::::::::::::
// .....................::::::-%%%@@%@@@@@%@@@@@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@%=:::::::::::::::::::::...
// .....................:::::::+%%%@@@@@%@@@@%%@@@@@@@@@%@@@@@%@@@@@@@@@@@@@@%-:::::::::::::::.........
// .........................::::#%%%@@@%%@@@@@%%%@@@@@@@@@@@@@%@@%@@@@@@@@@@%+:::::::::................
// .......................::::::-*%%@%%%%%%%@@%@@@@@@@@@%@@@@%%@@@@@@@@@@%@%#-:::::::..................
// .........................::::::=#%%@%%%%%%@@@@@@%%@@@%%%@@@@@@%%@@@@@@%%#=--:::::...................
// ..........................:::::::-=*#%#%%@@%%%@%#***#%%%%@@@%%@@@@@@@@%+=-:::::.....................
// ..........................:::::::::::-=+#%@@@@%#+==--=%%%@%%%%%**+==--:::::::.......................
// .........................:::::::::::::::::::::::::::::=+##%##*+=--:::::::::::::::.......::::::::::::
// ......................::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
// :::::.............:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
